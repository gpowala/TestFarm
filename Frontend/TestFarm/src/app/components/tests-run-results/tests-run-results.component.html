<div class="runs-container">
    <div class="runs-header">
        Tests Run Results
    </div>
    <div class="runs-content">
        <table class="runs-table" style="width: 100%;">
            <thead>
                <tr>
                    <th class="test-name" style="padding: 5px; text-align: left;">Name</th>
                    <th class="result-status" style="padding: 5px; text-align: center;">Status</th>
                    <th class="result-details" style="padding: 5px; text-align: center;">Details</th>
                </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let result of testsRunResults">
                    <tr class="run-item" [ngClass]="{'expanded': result.ShowDetails}" style="transition: background-color 0.3s;" 
                        (mouseover)="onMouseOver($event)" 
                        (mouseout)="onMouseOut($event, result.ShowDetails ?? false)">
                        <td class="test-name" style="padding: 5px; text-align: left;">{{ result.TestName }}</td>
                        <td class="result-status" style="padding: 5px; text-align: center;" [ngStyle]="{'background-color': result.Status === 'passed' ? '#90EE90' : '#FFB6C1'}">{{ result.Status }}</td>
                        <td class="result-details" style="padding: 5px; text-align: center;">
                            <button mat-button color="primary" (click)="result.ShowDetails = !result.ShowDetails">
                                {{ result.ShowDetails ? 'hide' : 'show' }}
                            </button>
                        </td>
                    </tr>
                    <tr *ngIf="result.ShowDetails" class="expanded-details">
                        <td colspan="3" class="execution-output" style="padding: 5px; text-align: left; background-color: #f0f0f0; border: 2px solid #d0d0d0;">
                            <div [innerHTML]="result.ExecutionOutput | consoleOutputToHtml"></div>
                        </td>
                    </tr>
                </ng-container>
            </tbody>
        </table>
    </div>
</div>