<div>
  <div class="breadcrumb-island">
      <nav class="breadcrumb">
          <div class="breadcrumb-item">
              <a href="/">TestFarm</a>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" class="breadcrumb-separator" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
          </svg>
          <div class="breadcrumb-item">
              <a routerLink="/artifacts">Artifacts Definitions</a>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" class="breadcrumb-separator" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
          </svg>
          <div class="breadcrumb-item active">
              Artifacts
          </div>
      </nav>
  </div>

  <!-- Stats Row -->
  <div class="stats-row">
      <div class="stat-card">
          <div class="stat-number">{{ totalBuilds }}</div>
          <div class="stat-label">Total Builds</div>
      </div>
      <div class="stat-card">
          <div class="stat-number">{{ activeRepositories }}</div>
          <div class="stat-label">Active Repositories</div>
      </div>
      <div class="stat-card">
          <div class="stat-number">{{ activeBranches }}</div>
          <div class="stat-label">Active Branches</div>
      </div>
      <div class="stat-card">
          <div class="stat-number">{{ lastBuild ? (lastBuild | date:'dd/MM/yyyy HH:mm') : 'N/A' }}</div>
          <div class="stat-label">Last Build At</div>
      </div>
  </div>

  <div class="islands-grid">
      <div class="island island-large">
          <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
              <div style="flex: 1; min-width: 200px;">
                  <input type="text" id="dataSearch" placeholder="Search..."
                      [(ngModel)]="searchTerm"
                      (input)="onSearchChange($event)"
                      style="width: 100%; padding: 0.75rem; border: 1px solid #e9ecef; border-radius: 8px; background: linear-gradient(315deg, #f8f9fa 0%, #ffffff 100%); font-size: 0.875rem; transition: all 0.2s ease;">
              </div>
          </div>
          <div style="overflow-x: auto; background: linear-gradient(315deg, #f8f9fa 0%, #ffffff 100%); border-radius: 8px; border: 1px solid #e9ecef;">
              <table id="artifactsTable" style="width: 100%; border-collapse: collapse;">
                  <thead>
                      <tr style="background: linear-gradient(315deg, #f0f1f2 0%, #ffffff 100%); border-bottom: 2px solid #e9ecef;">
                          <th class="column-sortable fit-content" data-sort="artifactId"
                            (click)="sortTable('artifactId')">
                              Artifact ID
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable fit-content" data-sort="buildId"
                            (click)="sortTable('buildId')">
                              Build ID
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable" data-sort="buildName" style="text-align: center;"
                          (click)="sortTable('buildName')">
                              Build Name
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable" data-sort="repository" style="text-align: center;"
                          (click)="sortTable('repository')">
                              Repository
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable" data-sort="branch" style="text-align: center;"
                          (click)="sortTable('branch')">
                              Branch
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable" data-sort="revision" style="text-align: center;"
                          (click)="sortTable('revision')">
                              Revision
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <th class="column-sortable" data-sort="createdAt" style="text-align: center;"
                          (click)="sortTable('createdAt')">
                              Created At
                              <svg style="width: 16px; height: 16px; display: inline-block; margin-left: 0.5rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                              </svg>
                          </th>
                          <!-- <th class="column">
                              Tags
                          </th> -->
                      </tr>
                  </thead>
                  <tbody>
                      <tr id="artifact" *ngFor="let row of filteredArtifactsRows" style="border-bottom: 1px solid #f5f5f5; transition: all 0.3s ease; cursor: pointer;"
                        (mouseover)="onRowMouseOver(row, $event)"
                        (mouseout)="onRowMouseOut(row, $event)"
                        (click)="markRowReviewed(row, $event)"
                        (dblclick)="removeRowFromReviewed(row, $event)">
                        <td class="cell">
                          {{row.artifact.Id}}
                        </td>
                        <td class="cell">
                          <a href="{{row.artifact.BuildPageUrl}}" class="row-link">
                            {{row.artifact.BuildId}}
                          </a>
                        </td>
                        <td class="cell">
                          <a href="{{row.artifact.BuildPageUrl}}" class="row-link">
                            {{row.artifact.BuildName}}
                          </a>
                        </td>
                        <td class="cell">
                          {{row.artifact.Repository}}
                        </td>
                        <td class="cell">
                          {{row.artifact.Branch}}
                        </td>
                        <td class="cell">
                          {{row.artifact.Revision}}
                        </td>
                        <td class="cell">
                          {{row.artifact.CreationTimestamp | date:'dd/MM/yyyy HH:mm'}}
                        </td>
                        <!-- <td class="cell" style="color: #6c757d;">
                            <span *ngFor="let tag of row.artifact.Tags" style="padding: 0.25rem 0.75rem; background: linear-gradient(315deg, #e9ecef 0%, #f8f9fa 100%); border-radius: 12px; font-size: 0.75rem; font-weight: 600; border: 1px solid #dee2e6;">{{tag}}</span>
                        </td> -->
                    </tr>
                  </tbody>
              </table>
          </div>
          <div id="noResults" *ngIf="filteredArtifactsRows.length === 0" style="text-align: center; padding: 2rem; color: #6c757d;">
              <svg style="width: 48px; height: 48px; margin-bottom: 1rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.467.881-6.077 2.33l-.853-.894A9.96 9.96 0 0112 13.5a9.96 9.96 0 016.93 2.936l-.853.894z"></path>
              </svg>
              <div>{{ searchTerm ? 'No artifacts match your search criteria' : 'No artifacts found' }}</div>
          </div>
      </div>
  </div>

</div>

<!-- <div class="artifacts-container">

    <div class="artifact-definition-overview" *ngIf="artifactDefinition">
      <div>
        <mat-icon>widgets</mat-icon>
      </div>
      <div>
        <div class="artifact-definition-name">{{artifactDefinition.Name}}</div>
        <div class="artifact-definition-id">Artifact Definition #{{artifactDefinition.Id}}</div>
      </div>
      <div>
        <mat-chip *ngFor="let tag of artifactDefinition.Tags" color="primary" selected>{{tag}}</mat-chip>
      </div>
    </div>

    <div class="artifacts-content">
      <div *ngIf="artifacts && artifacts.length > 0; else noArtifacts">
        <table class="artifacts-table" style="width: 100%;">
          <thead>
              <tr>
                  <th style="width: 1%; white-space: nowrap; padding: 5px; text-align: left;">Artifact ID</th>
                  <th style="width: 1%; white-space: nowrap; padding: 5px; text-align: left;">Build ID</th>
                  <th style="white-space: nowrap; padding: 5px; text-align: center;">Build Name</th>
                  <th style="white-space: nowrap; padding: 5px; text-align: center;">Repository</th>
                  <th style="white-space: nowrap; padding: 5px; text-align: center;">Branch</th>
                  <th style="white-space: nowrap; padding: 5px; text-align: center;">Revision</th>
                  <th style="white-space: nowrap; padding: 5px; text-align: center;">Created</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let artifact of artifacts"
                  class="repository-item"
                  (mouseover)="onMouseOver($event)"
                  (mouseout)="onMouseOut($event)" style="transition: background-color 0.3s;">
                  <td style="width: 1%; white-space: nowrap; padding: 5px; text-align: left;">{{artifact.Id}}</td>
                  <td style="width: 1%; white-space: nowrap; padding: 5px; text-align: left;">{{artifact.BuildId}}</td>
                  <td style="white-space: nowrap; padding: 5px; text-align: center;">
                    {{artifact.BuildName}}

                  </td>
                  <td style="white-space: nowrap; padding: 5px; text-align: center;">
                    {{artifact.Repository}}
                  </td>
                  <td style="white-space: nowrap; padding: 5px; text-align: center;">
                    {{artifact.Branch}}
                  </td>
                  <td style="white-space: nowrap; padding: 5px; text-align: center;">
                    {{artifact.Revision}}
                  </td>
                  <td style="white-space: nowrap; padding: 5px; text-align: center;">
                    {{artifact.CreationTimestamp | date:'medium'}}
                  </td>
              </tr>
          </tbody>
        </table>
      </div>
      <ng-template #noArtifacts>
        <div class="no-artifacts" *ngIf="artifactDefinition">
          <mat-card>
            <mat-card-content>
              <p>No artifacts available for this definition.</p>
            </mat-card-content>
          </mat-card>
        </div>
      </ng-template>
    </div>
</div> -->
